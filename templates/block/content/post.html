{{define "block/content/post"}}
<article aria-label="Forum post" role="article">
  <header>
    <h2 aria-label="Post title" role="heading" id="post-title-1">
    <a href="#post-content-1" aria-label="Link to post content">
      {{ .Username }}: {{ .Title }}
    </a>
    </h2>
    <div>
    {{/* range .Category_ID */}}
      {{ .Category_ID }}
    {{/* end */}}
    </div>
    <p aria-label="Post date" role="definition">
      {{ .Creation_Date }}
      {{ .Creation_Hour }}
    </p>
  </header>
  <!-- post image -->
  {{/* if .image_url */}}
  <figure aria-label="Post image" role="img">
      <img src="{{/* image_url */}}" alt="image" aria-label="Post image" role="img">
      <!-- todo add {{/* image_alt */}} later -->
  </figure>
  {{/* else */}}
  <p>no image (text for testing purpose only, delete on 'block/content/post.html')</p>
  {{/* end */}}
  <!-- post content -->
  <div aria-label="Post content" role="contentinfo" id="post-content-1">
      {{ .Text }}
  </div>
  <div>
    <div>
      <h2>{{ .Like }}</h2>
      <h2>{{if .Like }}{{ .Like }}{{ else }}0{{end}}like</h2>
      <form action="/like">
        <button name="like_post" value="like_post">Like</button>
      </form>
    </div>
    <div>
      <h2>{{if .Dislike }}{{ .Dislike }}{{ else }}0{{end}}dislike</h2>
      <form action="/like">
        <button name="dislike_post" value="dislike_post">Like</button>
      </form>
    </div>
  </div>
  {{ if ne .Data.Role "Guest" }}
    {{ template "block/content/comment_add" . }}
  {{else}}
  <div><hr><p>Your are a guest, you don't have the permission to post.</p></div>
  {{end}}
  {{ if .Comments }}
    {{ range .Comments }}
      <p>{{ .Text }}</p>
      <p>{{if .Like }}{{ .Like }}{{ else }}0{{end}}like</p>
      <p>{{if .Dislike }}{{ .Dislike }}{{ else }}0{{end}}dislike</p>
      <p><span>{{ .Creation_Date }}</span><span>{{ .Creation_Hour }}</span></p>
    {{ end }}
  {{ end }}
</article>  
{{end}}
