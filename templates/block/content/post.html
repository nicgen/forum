{{define "block/content/post"}}
  <article class="container__block__inner block__post" aria-label="Forum post" role="article">

    <!-- post edit -->
    {{ if or (eq .Data.Role "Moderator") (eq .Data.Role "Admin") (eq .IsAuthor "yes")}}
<<<<<<< HEAD
      <div class="comment__modify">
        <form method="GET" action="/delete">
          <input type="hidden" name="delete" value="post">
          <input type="hidden" name="id" value="{{ .ID }}">
          <button class="button-icon" type="submit" title="Delete my post">{{ template "ico_delete"}} Delete my post</button>
        </form>
        <form method="GET" action="/modify">
          <input type="hidden" name="delete" value="post">
          <input type="hidden" name="id" value="{{ .ID }}">
          <textarea class="modify-area" type="hidden" name="content"></textarea>
          <button class="button-icon" type="submit" title="Edit my post">{{ template "ico_edit"}} Edit my post</button>
        </form>
      </div>
=======
    <div class="delete-comment">
      <form method="GET" action="/delete">
        <input type="hidden" name="delete" value="post">
        <input type="hidden" name="id" value="{{ .ID }}">
        <button type="submit">Delete my post</button>
      </form>
    </div>
    <div class="modify-comment">
    <form method="GET" action="/modify">
      <input type="hidden" name="delete" value="post">
      <input type="hidden" name="id" value="{{ .ID }}">
      <textarea class="modify-area" type="hidden" name="content"></textarea>
      <button type="submit">Modify my post</button>
    </form>
    </div>
>>>>>>> aad475b790e631153f91d96aa6822a3f27731598
    {{end}}
  
    <header>
      <!-- categories -->
      {{/* if .Category */}}
      <div>
        <ul class="post__categories">
          {{/* range .Category */}}
          <li class="tag">{{/* .Name */}}</li>
          {{/* end */}}
        </ul>
      </div>
      {{/* end */}}
      <!-- date -->
      <p class="post__date" aria-label="Post date" role="definition">{{ .Creation_Date }}/{{ .Creation_Hour }}</p>
      <!-- title -->
      <h2 class="post__title" aria-label="Post title" role="heading" id="post-title-1">{{ .Title }}</h2>
      <p class="post__username">{{ .Username }}</p>

    </header>

    <section>
      <!-- todo add {{/* image_alt */}} later -->
      {{/* if .image_url */}}
        <figure aria-label="Post image" role="img">
            <img src="{{/* image_url */}}" alt="image" aria-label="Post image" role="img">
        </figure>
      {{/* else */}}
       <p>no image (text for testing purpose only, delete on 'block/content/post.html')</p>
      {{/* end */}}
  
      <!-- post content -->
      <div aria-label="Post content" role="contentinfo" id="post-content-1">
          <p>{{ .Text }}</p>
      </div>
    </section>

    <footer>
      <!-- action (like/dislike) -->
      {{ template "block/form/like" .}}
      <!-- add comment -->
      <div>{{template "block/content/comment_add" .}}</div>
      <!-- show comments -->
      {{ if .Comments }}
      <h3>Comments</h3>
      <ul>
        {{ range .Comments }}
          <li>
            <!-- comment edit -->
            {{ if eq .IsAuthor "yes"}}
              <div class="comment__modify">
                <form method="GET" action="/delete">
                  <input type="hidden" name="delete" value="post">
                  <input type="hidden" name="id" value="{{ .ID }}">
                  <button class="button-icon" type="submit" title="Delete my post">{{ template "ico_delete"}} Delete my post</button>
                </form>
                <form method="GET" action="/modify">
                  <input type="hidden" name="delete" value="post">
                  <input type="hidden" name="id" value="{{ .ID }}">
                  <textarea class="modify-area" type="hidden" name="content"></textarea>
                  <button class="button-icon" type="submit" title="Edit my post">{{ template "ico_edit"}} Edit my post</button>
                </form>
              </div>
            {{end}}
            <!-- Comment content -->
            {{ template "block/content/comment" . }}
          </li>
        {{ end }}
      </ul>
      {{else}}
        Oh No! There's no comments...
      {{ end }}
    </footer>

  </article>
{{end}}
